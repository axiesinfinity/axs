(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"8PAG":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a,r=n("6BQ9"),i=n.n(r),s=n("Wa2I"),o=n.n(s),c=n("JHOf"),u=n("OZ/i"),l=n.n(u),d=n("TSYQ"),m=n.n(d),f=n("q1tI"),p=n.n(f),v=n("9eBz"),x=n("MVkm"),b=n("R+cB"),h=n("fOuq"),g=p.a.createElement;!function(e){e.FIXED_PRICE="fixed",e.AUCTION="auction"}(a||(a={}));var w=function(e){return function(e){var t=o()(e);return!isNaN(t)&&t<0}(e)?c.IntentType.Danger:void 0},y=function(){return g("a",{style:{color:"#046cfc"},target:"_blank",href:"https://whitepaper.axieinfinity.com/axie-infinity-history/future-streams"},"4.25% fee")},I=function(e){var t=e.onCreateAuction,n=e.errorOnTop,r=e.itemType,s=e.assetData,u="true"===localStorage.getItem(h.b),d=Object(f.useState)(a.FIXED_PRICE),I=d[0],N=d[1],C=Object(f.useState)("0.3"),T=C[0],O=C[1],A=Object(f.useState)("0.5"),k=A[0],E=A[1],S=Object(f.useState)("1"),j=S[0],R=S[1],D=Object(f.useState)(),H=D[0],P=D[1],G=Object(f.useState)(u),F=G[0],L=G[1],B=r===b.b.Axie,W=r===b.b.Land,Y=r===b.b.Bundle,J=B&&!F,M=function(e){E(e.currentTarget.value)},q=function(e){N(e)},_=Y?e.itemType:W?"".concat(s.landType," plot (").concat(s.col,", ").concat(s.row,")"):s.name;return g("div",null,g("div",{className:m()("flex items-center",{hidden:e.itemType===b.b.Bundle})},g(c.Icon,{name:x.mb,color:"var(--color-white)"}),g("h4",{className:"ml-8"},"Sell ",e.itemType||"")),g("div",{className:"mt-20 text-gray-1 leading-20"},"Choose your sale method for ",g("span",{className:"text-white"},_),":"),g("div",{className:"flex mt-16"},g("div",{className:m()("cursor-pointer relative flex-1 flex justify-center items-center border rounded-4 p-8 transition-all",{"border-gray-2 hover:border-white bg-gray-4":I!==a.FIXED_PRICE,"border-primary-4 bg-primary-6":I===a.FIXED_PRICE}),onClick:function(){return q(a.FIXED_PRICE)}},g("span",{className:"text-14 leading-20 font-medium"},"Fixed price"),I===a.FIXED_PRICE&&g("div",{className:"absolute",style:{right:8}},g(c.Icon,{name:x.n,color:"var(--color-primary-4)"}))),g("div",{className:"px-4"}),g("div",{className:m()("cursor-pointer relative flex-1 flex justify-center items-center border rounded-4 p-8 transition-all",{"border-gray-2 hover:border-white bg-gray-4":I!==a.AUCTION,"border-primary-4 bg-primary-6":I===a.AUCTION}),onClick:function(){return q(a.AUCTION)}},g("span",{className:"text-14 leading-20 font-medium"},"Auction"),I===a.AUCTION&&g("div",{className:"absolute",style:{right:8}},g(c.Icon,{name:x.n,color:"var(--color-primary-4)"})))),g("div",{className:"mt-20 text-gray-1 leading-20"},I===a.FIXED_PRICE&&g("span",null,"Your asset will be listed on the Marketplace with a fixed price. In order to get it back, you'll have to cancel the sale."),I===a.AUCTION&&g("span",null,"For auctions, you can set the price to increase or decrease over time. Once it reaches the final price, it'll stay on the market at this price. In order to get it back, you'll have to cancel the sale.")),I===a.FIXED_PRICE&&g("div",{className:"mt-24"},g("div",{className:"flex justify-between items-center"},g("div",null,"Sell at"),g("div",{className:"flex items-center"},g("div",{className:"mr-8"},"\u039e"),g("div",{className:"input-wrapper"},g(c.InputGroup,{intent:w(k),type:"number",value:k,onChange:M,min:0,step:.1})))),g("div",{className:"flex justify-end mt-4"},g("div",{className:"flex flex-col text-12 leading-16 font-medium text-gray-1 text-right",style:{width:300}},g("div",null,"You'll receive ",g("span",{className:"font-bold"},+k-.0425*+k," \u039e")," after"),g("div",null," subtracting a ",g(y,null),".")))),I===a.AUCTION&&g(p.a.Fragment,null,g("div",{className:"mt-24"},g("div",{className:"flex justify-between items-center"},g("div",null,"Start price"),g("div",{className:"flex items-center"},g("div",{className:"mr-8"},"\u039e"),g("div",{className:"input-wrapper"},g(c.InputGroup,{intent:w(T),type:"number",value:T,onChange:function(e){O(e.currentTarget.value)},min:0,step:.1})))),g("div",{className:"flex justify-between mt-20 items-center"},g("div",null,"End price"),g("div",{className:"flex items-center"},g("div",{className:"mr-8"},"\u039e"),g("div",{className:"input-wrapper"},g(c.InputGroup,{intent:w(k),type:"number",value:k,onChange:M,min:0,step:.1})))),g("div",{className:"flex justify-between mt-20 items-center"},g("div",null,"Duration"),g("div",{className:"flex items-center"},g("div",{className:"mr-8"},"days"),g("div",{className:"input-wrapper"},g(c.InputGroup,{intent:w(j),type:"number",value:j,onChange:function(e){R(e.currentTarget.value)},min:1,step:1}))))),g("div",{className:"flex items-center mt-20"},g(c.Icon,{name:x.y,color:"var(--color-gray-2)"}),g("span",{className:"ml-4 text-14 leading-20 font-medium text-gray-1"},"A ",g(y,null)," will be taken from the final sale price."))),g("div",{className:"h-16 text-right text-danger-3 mt-4"},H),n&&g("div",{className:"h-16 text-left text-warning-4 mt-4"},n),B&&g(c.Checkbox,{checked:F,onChange:function(){var e=!F;L(e),localStorage.setItem(h.b,"".concat(e))}},g("h5",{className:"ml-8 text-gray-1"},"I understand that after successfully bought, Axie level will reset to 1.")),g("div",{className:"mt-16 text-right"},g(c.Button,{intent:c.IntentType.Primary,onClick:function(e){if(e.preventDefault(),function(){var e=o()(T),t=o()(k),n=i()(j);return e<0?(P("Start price cannot be negative."),!1):t<0?(P("End price cannot be negative."),!1):n<0?(P("Duration cannot be negative."),!1):(P(""),!0)}()){var n=new l.a(j).mul(new l.a(86400)),r=new l.a(v.toWei(k,"ether")),s=I===a.FIXED_PRICE?r:new l.a(v.toWei(T,"ether"));t({startPrice:s,endPrice:r,duration:n})}},disabled:Boolean(n)||J},g("div",{className:"flex items-center"},g(c.Icon,{name:x.mb,color:J?"var(--color-gray-2)":"var(--color-white)"}),g("div",{className:"ml-8"},"Confirm")))))}},A4LG:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("TP7S"),r=n.n(a),i=n("q1tI"),s=n.n(i),o=n("BsOi"),c=s.a.createElement,u=function(){var e=Object(i.useState)(!1),t=e[0],n=e[1],a=Object(i.useState)(),u=a[0],l=a[1];return{openTransactionSubmission:function(e){n(!0),l(e)},dialog:c(s.a.Fragment,null,!r()(u)&&c(o.a,{open:t,onClose:function(){n(!1)},txHash:u.txHash},u.message))}}},BsOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("JHOf"),r=n("8Kt/"),i=n.n(r),s=n("YFqc"),o=n.n(s),c=n("q1tI"),u=n.n(c).a.createElement,l=function(e){var t=e.children,n=e.onClose,r=e.open;return u(a.Dialog,{open:r,dismissable:!1,onClose:n,title:"Transaction Submitted"},u(i.a,null,u("link",{href:"/static/css/transaction-submission-dialog.css",rel:"stylesheet"})),t,u("div",{className:"mt-24 w-full flex flex-col-reverse sm:flex-row"},u("div",{className:"flex-1 mr-0 sm:mr-8"},u(a.Button,{onClick:e.onClose,fullWidth:!0},"Close")),e.primaryAction||u(o.a,{as:"/profile/activity",href:"/profile/activity"},u("a",{rel:"noopener noreferrer",className:"flex-1 mt-8 sm:mt-0"},u(a.Button,{intent:a.IntentType.Primary,fullWidth:!0},"Go to my activity")))))}},CANT:function(e,t,n){"use strict";var a=n("ln6h"),r=n.n(a),i=n("JHOf"),s=n("OZ/i"),o=n.n(s),c=n("J2iB"),u=n.n(c),l=n("8Kt/"),d=n.n(l),m=n("q1tI"),f=n.n(m),p=[{id:"-501",newId:"4154"},{id:"-502",newId:"4155"},{id:"-503",newId:"4156"}],v=n("EY8/"),x=n("Enm2"),b=n("OLK/"),h=n("yIPl"),g=n("IdhJ"),w=n("A4LG"),y=n("fOuq");n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return C}));var I,N=f.a.createElement;!function(e){e[e.Axie=0]="Axie",e[e.Land=1]="Land",e[e.Item=2]="Item"}(I||(I={}));var C=function(e){var t=e.axieName,n=e.isOpen,a=e.itemType,s=e.tokenId,c=e.onClose,l=Object(m.useState)(""),C=l[0],T=l[1],O=Object(m.useState)(),A=O[0],k=O[1],E=Object(g.a)().logActivity,S=Object(v.b)(),j=S.scopedRoninWeb3,R=S.activeRoninAddress,D=Object(w.a)(),H=D.dialog,P=D.openTransactionSubmission,G=function(){if(u()(j)||u()(R))throw new Error("Web3 is not found.");return{scopedRoninWeb3:j,address:R}},F=function(e){var t,n,a,i,s;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=G(),n=t.address,a=t.scopedRoninWeb3,i=Object(b.b)(C),c.next=4,r.a.awrap(a.axieContract.safeTransferFrom1(n,i,new o.a(e)).sendGetTxHash());case 4:return s=c.sent,c.next=7,r.a.awrap(E(h.a.GiftAxie,{axieId:e,txHash:s,destination:i}));case 7:return c.abrupt("return",s);case 8:case"end":return c.stop()}}))},L=function(t){var n,a,i,s,c,u,l,d;return r.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=G(),a=n.address,i=n.scopedRoninWeb3,s=e.assetData,c=s.row,u=s.col,l=Object(b.b)(C),m.next=5,r.a.awrap(i.landContract.safeTransferFrom1(a,l,new o.a(t)).sendGetTxHash({from:a}));case 5:return d=m.sent,m.next=8,r.a.awrap(E(h.a.GiftLand,{row:c,col:u,destination:l,txHash:d}));case 8:return m.abrupt("return",d);case 9:case"end":return m.stop()}}))},B=function(t){var n,a,i,s,c,u,l,d;return r.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return n=G(),a=n.address,i=n.scopedRoninWeb3,s=e.assetData,c=s.itemAlias,u=s.itemId,l=Object(b.b)(C),m.next=5,r.a.awrap(i.itemContract.safeTransferFrom1(a,l,new o.a(t)).sendGetTxHash({from:a}));case 5:return d=m.sent,m.next=8,r.a.awrap(E(h.a.GiftItem,{itemAlias:c,tokenId:u,destination:l,txHash:d}));case 8:return m.abrupt("return",d);case 9:case"end":return m.stop()}}))},W=function(){switch(a){case I.Axie:case I.Item:case I.Land:var e=Object(b.d)(x.a.Ronin,C);return!1===e&&k("Invalid receiver Ronin address. Ronin address starts with ronin:."),e}};return N(f.a.Fragment,null,H,N(i.Dialog,{open:n,onClose:c,title:"Gift"},N(d.a,null,N("link",{href:"/static/css/create-auction-dialog.css",rel:"stylesheet"})),N(y.a,{axieName:t,address:C,doGift:function(){var t,n,i;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!1!==W()){o.next=3;break}return o.abrupt("return");case 3:t=p.find((function(e){return e.id===s})),n=void 0!==t?t.newId:s,i="",o.t0=a,o.next=o.t0===I.Axie?9:o.t0===I.Land?13:o.t0===I.Item?18:23;break;case 9:return o.next=11,r.a.awrap(F(n));case 11:return i=o.sent,o.abrupt("break",23);case 13:return e.onClose(),o.next=16,r.a.awrap(L(s));case 16:return i=o.sent,o.abrupt("break",23);case 18:return e.onClose(),o.next=21,r.a.awrap(B(s));case 21:return i=o.sent,o.abrupt("break",23);case 23:P({txHash:i,message:"Transaction submitted successfully."}),c();case 25:case"end":return o.stop()}}))},error:A,handleChangeAddress:function(e){T(e),k(void 0)},itemType:a})))}},IdhJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("doui"),r=n("ttZb"),i=n("8GAN"),s=function(){var e=Object(r.c)(i.a),t=Object(a.a)(e,1)[0];return{logActivity:function(e,n){return t({variables:{action:e,data:n}})}}}},QIyF:function(e,t,n){var a=n("Kz5y");e.exports=function(){return a.Date.now()}},"R+cB":function(e,t,n){"use strict";function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}var r=n("ln6h"),i=n.n(r),s=n("JHOf"),o=n("OZ/i"),c=n.n(o),u=n("8Kt/"),l=n.n(u),d=n("q1tI"),m=n.n(d),f=n("EY8/"),p=n("KKzz"),v=n("yIPl"),x=n("IdhJ"),b=n("A4LG"),h=n("8PAG");n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var g,w=m.a.createElement;!function(e){e.Axie="Axie",e.Land="Land",e.Item="Item",e.Bundle="Bundle"}(g||(g={}));var y=function(e){var t=e.isOpen,n=e.onClose,r=e.tokenId,o=e.itemType,u=Object(x.a)().logActivity,y=Object(f.d)(),I=Object(d.useState)(),N=I[0],C=I[1],T=Object(p.c)(),O=T.checkLandApproval,A=T.checkItemApproval,k=Object(b.a)(),E=k.openTransactionSubmission,S=k.dialog,j=function(t){var n,a,s,o,l,d,m,f,p,x;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return n=t.startPrice,a=t.endPrice,s=t.duration,o=y(),l=o.activeRoninAddress,d=o.scopedRoninWeb3,m=e.assetData,f=m.row,p=m.col,b.next=5,i.a.awrap(O());case 5:return b.next=7,i.a.awrap(d.clockAuctionContract.createAuction2([1],[d.landContract.address],[new c.a(r)],[n],[a],[d.roninWETHContract.address],[s]).sendGetTxHash({from:l}));case 7:return x=b.sent,b.next=10,i.a.awrap(u(v.a.ListLand,{row:f,col:p,priceFrom:n.toString(),priceTo:a.toString(),duration:s.toString(),txHash:x}));case 10:return b.abrupt("return",x);case 11:case"end":return b.stop()}}))},R=function(t){var n,a,r,s,o,l,d,m,f,p,x;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return n=t.startPrice,a=t.endPrice,r=t.duration,s=y(),o=s.activeRoninAddress,l=s.scopedRoninWeb3,d=e.assetData,m=d.itemAlias,f=d.itemId,p=d.tokenId,b.next=5,i.a.awrap(A());case 5:return b.next=7,i.a.awrap(l.clockAuctionContract.createAuction2([1],[l.itemContract.address],[new c.a(p)],[n],[a],[l.roninWETHContract.address],[r]).sendGetTxHash({from:o}));case 7:return x=b.sent,b.next=10,i.a.awrap(u(v.a.ListItem,{itemAlias:m,tokenId:f,priceFrom:n.toString(),priceTo:a.toString(),duration:r.toString(),txHash:x}));case 10:return b.abrupt("return",x);case 11:case"end":return b.stop()}}))},D=function(t){var n,s,o,l,d,m,f;return i.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.startPrice,s=t.endPrice,o=t.duration,l=y(),d=l.activeRoninAddress,m=l.scopedRoninWeb3,a(e.assetData),p.next=6,i.a.awrap(m.clockAuctionContract.createAuction2([1],[m.axieContract.address],[new c.a(r)],[n],[s],[m.roninWETHContract.address],[o]).sendGetTxHash({from:d}));case 6:return f=p.sent,p.next=9,i.a.awrap(u(v.a.ListAxie,{axieId:r,priceFrom:n.toString(),priceTo:s.toString(),duration:o.toString(),txHash:f}));case 9:return p.abrupt("return",f);case 10:case"end":return p.stop()}}))};return w(m.a.Fragment,null,S,w(s.Dialog,{open:t,onClose:n,title:"Sell"},w(l.a,null,w("link",{href:"/static/css/create-auction-dialog.css",rel:"stylesheet"})),w(h.a,{onCreateAuction:function(e){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t="",C(void 0),a.prev=2,a.t0=o,a.next=a.t0===g.Axie?6:a.t0===g.Land?10:a.t0===g.Item?14:18;break;case 6:return a.next=8,i.a.awrap(D(e));case 8:return t=a.sent,a.abrupt("break",18);case 10:return a.next=12,i.a.awrap(j(e));case 12:return t=a.sent,a.abrupt("break",18);case 14:return a.next=16,i.a.awrap(R(e));case 16:return t=a.sent,a.abrupt("break",18);case 18:n(),E({message:"Transaction submitted successfully.",txHash:t}),a.next=26;break;case 22:a.prev=22,a.t1=a.catch(2),console.error(a.t1),C("Oops, something went wrong.");case 26:case"end":return a.stop()}}),null,null,[[2,22]])},itemType:o,assetData:e.assetData}),N&&w("span",{className:"text-warning-4"},N)))}},eV1d:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var a=n("wd/R"),r=n.n(a),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.now()/1e3-e>86400?r.a.unix(e).format("MMM DD, YYYY".concat(t?" - HH:mm":"")):r.a.unix(e).fromNow()},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.unix(e).format("MMM DD, YYYY".concat(t?" - HH:mm":""))},o=function(e){return r.a.unix(e).format("HH:mm")},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return e>0?"".concat(e," ").concat(t).concat(1!==e?n:""):void 0}},fOuq:function(e,t,n){"use strict";var a=n("JHOf"),r=n("TP7S"),i=n.n(r),s=n("q1tI"),o=n.n(s),c=n("MVkm"),u=n("CANT"),l=n("doui"),d=n("ttZb"),m=n("wig9"),f=n.n(m),p=n("sEfC"),v=n.n(p),x=n("E+oP"),b=n.n(x),h=n("J2iB"),g=n.n(h),w=n("Enm2"),y=n("OLK/"),I=n("bDBp"),N=o.a.createElement,C=function(e){var t=e.searchString,n=e.checkEmptyProfile,a=e.getSelectedAddress,r={searchString:t.toLowerCase()},o=Object(d.b)(I.m,{variables:r}),c=Object(l.a)(o,2),u=c[0],m=c[1].data;if(Object(s.useEffect)((function(){var e=v()((function(){u({variables:r})}),500);return e(),function(){return e.cancel()}}),[t]),i()(m)||""===t||b()(m.profileSearch))return n(m),null;return N("div",{className:"border border-t-0 border-gray-3 bg-gray-6 p-12 overflow-y-auto rounded-4 min-h-full",style:{maxHeight:220,width:"calc(460px - 64px)"}},f()(m.profileSearch).map((function(e){var t,r=e.addresses.ronin?Object(y.a)(w.a.Ronin,e.addresses.ronin):"--";return N("div",{className:"cursor-pointer mb-12",key:"".concat(e.accountId).concat(r),onClick:(t=r,function(){g()(t)||(n(void 0),a(t))})},N("h5",{className:"text-white"},e.name||"--"),N("h6",{className:"text-gray-2"},g()(r)?"--":r))})))};n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return A}));var T=o.a.createElement,O="accepted-axie-transfer-policy",A=function(e){var t=e.address,n=e.axieName,r=e.doGift,o=e.error,l=e.handleChangeAddress,d=e.itemType,m="true"===localStorage.getItem(O),f=Object(s.useState)(m),p=f[0],v=f[1],x=Object(s.useState)(!1),b=x[0],h=x[1],g=d===u.b.Axie,w=g&&!p,y=Object(s.useRef)(null),I=function(e){i()(e)||""===t?h(!1):h(!0)},N=function(e){l(e.currentTarget.value)},A=function(e){l(e)};return T("div",{ref:y},T("div",{className:"flex items-center mb-24"},T(a.Icon,{name:c.D,color:"var(--color-white)"}),T("h4",{className:"ml-8"},"Gift your ",u.b[d])),T("h6",{className:"text-gray-1"},"You are about to gift ",T("span",{className:"text-white"},n)," to other person, enter receiver's"," ",T("span",{className:"text-white font-bold"},"Ronin wallet address")," to continue:"),T("div",{className:"mt-20"},T(a.Popover,{usePortal:!0,portalContainer:y.current||void 0,position:"bottom-start",disableOnClickOutsideContent:!0,target:function(e,n){return T(a.InputGroup,{placeholder:"Receiver\u2019s Ronin wallet address",fullWidth:!0,intent:void 0!==o?a.IntentType.Danger:void 0,value:t,onChange:N,onFocus:e,onBlur:n})}},(function(){return T(C,{searchString:t,itemType:d,checkEmptyProfile:I,getSelectedAddress:A})}))),!g&&t.includes("0x")&&T("div",{className:"flex items-start al mt-12"},T(a.Icon,{name:c.tb,color:"var(--color-warning-4)"}),T("h5",{className:"text-warning-4 ml-8"},"This address is not Ronin address, make sure it\u2019s on Ronin address.")),g&&t.includes("loom:")&&T("div",{className:"flex items-start al mt-12"},T(a.Icon,{name:c.tb,color:"var(--color-warning-4)"}),T("h5",{className:"text-warning-4 ml-8"},"This address is not Ethereum address, make sure it\u2019s Ethereum address.")),b&&T("div",{className:"flex items-start al mt-12"},T(a.Icon,{name:c.tb,color:"var(--color-warning-4)"}),T("h5",{className:"text-warning-4 ml-8"},"This address is not in our Marketplace, make sure it\u2019s the right one.")),o&&T("div",{className:"h-16 text-left text-danger-3 mt-4"},o),g&&T(a.Checkbox,{checked:p,onChange:function(){var e=!p;v(e),localStorage.setItem(O,"".concat(e))}},T("h5",{className:"mt-8 ml-8 text-gray-1"},"I understand that after successfully gifting, Axie level will reset to 1.")),T("div",{className:"mt-24 text-right"},T(a.Button,{intent:a.IntentType.Primary,onClick:r,disabled:w},T("div",{className:"flex items-center"},T(a.Icon,{name:c.D,color:w?"var(--color-gray-2)":"var(--color-white)"}),T("div",{className:"ml-8"},"Gift")))))}},sEfC:function(e,t,n){var a=n("GoyQ"),r=n("QIyF"),i=n("tLB3"),s="Expected a function",o=Math.max,c=Math.min;e.exports=function(e,t,n){var u,l,d,m,f,p,v=0,x=!1,b=!1,h=!0;if("function"!=typeof e)throw new TypeError(s);function g(t){var n=u,a=l;return u=l=void 0,v=t,m=e.apply(a,n)}function w(e){var n=e-p;return void 0===p||n>=t||n<0||b&&e-v>=d}function y(){var e=r();if(w(e))return I(e);f=setTimeout(y,function(e){var n=t-(e-p);return b?c(n,d-(e-v)):n}(e))}function I(e){return f=void 0,h&&u?g(e):(u=l=void 0,m)}function N(){var e=r(),n=w(e);if(u=arguments,l=this,p=e,n){if(void 0===f)return function(e){return v=e,f=setTimeout(y,t),x?g(e):m}(p);if(b)return clearTimeout(f),f=setTimeout(y,t),g(p)}return void 0===f&&(f=setTimeout(y,t)),m}return t=i(t)||0,a(n)&&(x=!!n.leading,d=(b="maxWait"in n)?o(i(n.maxWait)||0,t):d,h="trailing"in n?!!n.trailing:h),N.cancel=function(){void 0!==f&&clearTimeout(f),v=0,u=p=l=f=void 0},N.flush=function(){return void 0===f?m:I(r())},N}}}]);